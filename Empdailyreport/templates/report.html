{% load static %}
{% load custom_filter %}
<!DOCTYPE html>

<html lang="en" >
	<head>
		<meta charset="utf-8" />
		<title>
			Report
		</title>
		<meta name="description" content="Latest updates and statistic charts">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<!--begin::Web font -->
		<link rel="icon" type="image/png" href="{% static 'list/images/icons/favicon.ico' %}"/>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
		<link href="{% static 'defaultassets/vendors/base/vendors.bundle.css'%}" rel="stylesheet" type="text/css" />
		<link href="{% static 'defaultassets/demo/default/base/style.bundle.css' %}" rel="stylesheet" type="text/css" />
		<link rel="shortcut icon" href="{% static 'defaultassets/demo/default/media/img/logo/favicon.ico'%}" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
		<script>
			var copyarray = [];
         	var textNo=0;
          WebFont.load({
            google: {"families":["Poppins:300,400,500,600,700","Roboto:300,400,500,600,700"]},
            active: function() {
                sessionStorage.fonts = true;
            }
          });
         $(document).ready(function(){
         	console.log("in")
         	
			$('.projectselect').change(function(){
				console.log("hii");
		        var selections = [];
		        // var arr = [];
		        $(".projectselect option:selected").each(function(){
		        	console.log("hii");
		            var optionValue = $(this).val();
		            var optionText = $(this).text();
		            console.log("optionText",optionText);                
		            selections.push(optionValue);
		            // arr.push({optionValue:optionText})
		            console.log("optionValue",optionValue);
		            console.log(selections)
		             var rowCount = $('#myTable tbody tr').length;
		             console.log('rowCount',rowCount)
		             // console.log('arr',arr)
		             // console.log("len",arr.length)
		            displayrows(selections)
	        	});
	     	});
		});
          	function displayrows(projects ){
		 	console.log('length',projects.length)
		 	console.log('projects',projects )
		 	var input='<div class="cancel'+projects[i]+'"><div  class="form-control" style=" background-color:#191970; border:1px solid white; color:white; "><p class="selected_project" >'+projects[i]+'</p></div><input type="text" value=" '+projects[i]+'" hidden class="pname" name = "selected_project[]" ></input><textarea class="form-control project_description " style="width:400px;" name="project_description[]" rows="5" cols="60"> </textarea><a class="description_cancel" key="cancel'+projects[i]+'">Cancel</a>';
		 	if (textNo==0){
		 		for(var i =0; i<projects.length;i++){
					console.log('projectvalue',projects[i])
		 			//$('#myTable tbody').append(input);
				  	$('.textreport').append(input);
				}
				copyarray = Object.assign([],projects);

		 	}
		 	else{
		 		copylen = copyarray.length;
		 		console.log("copylen",copylen)
		 		if(copylen < projects.length){
		 			console.log('copyarray',copyarray)
		 			console.log('projects',projects)
		 			diff=projects.diff(copyarray);
		 			console.log('diff',diff)
		 			for(var j=1;j<diff.length;j++){
				  		$('.textreport').append(input);
					}
				 	copyarray = Object.assign([],projects);

		 		}
		 		else if(copylen > projects.length){
		 			console.log('copyarray',copyarray)
		 			console.log('projects',projects)
		 			diff=copyarray.diff(projects);
		 			console.log('diff',diff)
		 			for(var k=0;k<diff.length;k++){
				  		$('.textreport').remove();
				  	
					    }
					var index = copyarray.indexOf(diff[0]);
					if (index > -1) {
					       copyarray.splice(index, 1);
		 			}
				 	copyarray = Object.assign([],projects);

		 		}
		 		
		 	}
         	 textNo=textNo+1;
		 	}
		// 	 if (rowCount == 0){
        	Array.prototype.diff = function(a) {
    			return this.filter(function(i) {return a.indexOf(i) < 0;});
			};


          
		
		</script>
		<style>
			.m-portlet{width:1000px; margin:150px; margin-top:1.2rem;}
			.m-pricing-table-1.m-pricing-table-1--fixed{width:100%;}
			.m-portlet .m-portlet__body{padding-top:3.2rem;}
			.m-form.m-form--fit .m-form__group{
				margin-left:0px;
			}
			#myTable{
				height: 250px;
				width:250px;
			}
		</style>
		
	</head>
	
	<body class="m-page--fluid m--skin- m-content--skin-light2 m-header--fixed m-header--fixed-mobile m-aside-left--enabled m-aside-left--skin-dark m-aside-left--offcanvas m-aside-left--minimize m-brand--minimize m-footer--push m-aside--offcanvas-default"  >
		
		<div class="m-grid m-grid--hor m-grid--root m-page">
			
			<header class="m-grid__item    m-header "  data-minimize-offset="200" data-minimize-mobile-offset="200" >
				<div class="m-container m-container--fluid m-container--full-height">
					<div class="m-stack m-stack--ver m-stack--desktop">
						
						<div class="m-stack__item m-stack__item--fluid m-header-head" style="background-color: #282a3c;" id="m_header_nav">
							
							<button class="m-aside-header-menu-mobile-close  m-aside-header-menu-mobile-close--skin-dark " id="m_aside_header_menu_mobile_close_btn">
								<i class="la la-close"></i>
							</button>
							<div id="m_header_menu" class="m-header-menu m-aside-header-menu-mobile m-aside-header-menu-mobile--offcanvas  m-header-menu--skin-light m-header-menu--submenu-skin-light m-aside-header-menu-mobile--skin-dark m-aside-header-menu-mobile--submenu-skin-dark "  >
								
							</div>
														
							<div id="m_header_topbar" class="m-topbar  m-stack m-stack--ver m-stack--general">
								<div class="m-stack__item m-topbar__nav-wrapper">
									<ul class="m-topbar__nav m-nav m-nav--inline">
										
										<li class="m-nav__item m-topbar__user-profile m-topbar__user-profile--img  m-dropdown m-dropdown--medium m-dropdown--arrow m-dropdown--header-bg-fill m-dropdown--align-right m-dropdown--mobile-full-width m-dropdown--skin-light" data-dropdown-toggle="click">
											<a href="#" class="m-nav__link m-dropdown__toggle">
												<span class="m-topbar__userpic">
													<img src="{% static 'defaultassets/app/media/img/users/user4.jpg'%}" class="m--img-rounded m--marginless m--img-centered" alt=""/>
												</span>
												<span class="m-topbar__username m--hide">
													Nick
												</span>
											</a>
											<div class="m-dropdown__wrapper">
												<span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
												<div class="m-dropdown__inner">
													<div class="m-dropdown__header m--align-center" style="background: url(../../../assets/app/media/img/misc/user_profile_bg.jpg); background-size: cover;">
														<div class="m-card-user m-card-user--skin-dark">
															<div class="m-card-user__pic">
																<img src="../../../assets/app/media/img/users/user4.jpg" class="m--img-rounded m--marginless" alt=""/>
															</div>
															<div class="m-card-user__details">
																<span class="m-card-user__name m--font-weight-500">
																	Mark Andre
																</span>
																<a href="" class="m-card-user__email m--font-weight-300 m-link">
																	mark.andre@gmail.com
																</a>
															</div>
														</div>
													</div>
													<div class="m-dropdown__body">
														<div class="m-dropdown__content">
															<ul class="m-nav m-nav--skin-light">
																<li class="m-nav__section m--hide">
																	<span class="m-nav__section-text">
																		Section
																	</span>
																</li>
																
																<li class="m-nav__separator m-nav__separator--fit"></li>
																<li class="m-nav__item">
																	<a href="/logout" class="btn m-btn--pill    btn-secondary m-btn m-btn--custom m-btn--label-brand m-btn--bolder">
																		Logout
																	</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</li>
										
									</ul>
								</div>
							</div>
							
						</div>
					</div>
				</div>
			</header>
			
			<div class="m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-body">
				
				<button class="m-aside-left-close  m-aside-left-close--skin-dark " id="m_aside_left_close_btn">
					<i class="la la-close"></i>
				</button>
				
				<div class="m-grid__item m-grid__item--fluid m-wrapper">
					
					<div class="m-subheader ">
						<div class="d-flex align-items-center">
							<!-- -->
							<div>
								<div class="m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" data-dropdown-toggle="hover" aria-expanded="true">
									
									<div class="m-dropdown__wrapper">
										<span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
										<div class="m-dropdown__inner">
											<div class="m-dropdown__body">
												<div class="m-dropdown__content">
													<ul class="m-nav">
														<li class="m-nav__section m-nav__section--first m--hide">
															<span class="m-nav__section-text">
																Quick Actions
															</span>
														</li>
														<li class="m-nav__item">
															<a href="" class="m-nav__link">
																<i class="m-nav__link-icon flaticon-share"></i>
																<span class="m-nav__link-text">
																	Activity
																</span>
															</a>
														</li>
														<li class="m-nav__item">
															<a href="" class="m-nav__link">
																<i class="m-nav__link-icon flaticon-chat-1"></i>
																<span class="m-nav__link-text">
																	Messages
																</span>
															</a>
														</li>
														<li class="m-nav__item">
															<a href="" class="m-nav__link">
																<i class="m-nav__link-icon flaticon-info"></i>
																<span class="m-nav__link-text">
																	FAQ
																</span>
															</a>
														</li>
														<li class="m-nav__item">
															<a href="" class="m-nav__link">
																<i class="m-nav__link-icon flaticon-lifebuoy"></i>
																<span class="m-nav__link-text">
																	Support
																</span>
															</a>
														</li>
														<li class="m-nav__separator m-nav__separator--fit"></li>
														<li class="m-nav__item">
															<a href="#" class="btn btn-outline-danger m-btn m-btn--pill m-btn--wide btn-sm">
																Submit
															</a>
														</li>
													</ul>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- END: Subheader -->
					<div class="m-content">
						<div class="m-portlet">
							<div class="m-portlet__head">
								<div class="m-portlet__head-caption">
									<div class="m-portlet__head-title">
										<h3 class="m-portlet__head-text">
											Report
										</h3>
									</div>
								</div>
							</div>
							<!--begin::Form-->
							<form class="m-form m-form--fit m-form--label-align-right">
								<div class="m-portlet__body">
															
									<div class="form-group m-form__group row">
										<label class="col-form-label col-lg-3 col-sm-12">
											Multi Select
										</label>
										<div class="col-lg-4 col-md-9 col-sm-12">
											<select class="form-control m-select2 projectselect" id="m_select2_3" name="param" multiple="multiple" >
												<optgroup label="Alaskan/Hawaiian Time Zone">
													<option value="AK" >
														Alaska
													</option>
													<option value="HI">
														Hawaii
													</option>
												</optgroup>
												<optgroup label="Pacific Time Zone">
													<option value="CA">
														California
													</option>
													<option value="NV" >
														Nevada
													</option>
													<option value="OR">
														Oregon
													</option>
													<option value="WA">
														Washington
													</option>
												</optgroup>
												<optgroup label="Mountain Time Zone">
													<option value="AZ">
														Arizona
													</option>
													<option value="CO">
														Colorado
													</option>
													<option value="ID">
														Idaho
													</option>
													<option value="MT">
														Montana
													</option>
													<option value="NE">
														Nebraska
													</option>
													<option value="NM">
														New Mexico
													</option>
													<option value="ND">
														North Dakota
													</option>
													<option value="UT">
														Utah
													</option>
													<option value="WY">
														Wyoming
													</option>
												</optgroup>
													
											</select>
										</div>
									</div>
									
									<div class="m-form__seperator m-form__seperator--dashed m-form__seperator--space"></div>
																			<div class="dynamic">
										<table>
										<tr class="textreport" style="width:80px;" >

											<td class=labelreport style="text-align: center; color:white;">
											</td>
												<div class ="dynamictext">
													<!-- IN THIS DIV DYNAMICALLY  CREATED TEXTAREA IS APPENDED --> 
												</div>
											<!-- <td  class="textreport">
											</td> -->
										</tr></table>
										</div>
									<!-- <div>
										<table id=myTable>
											<tbody>
											</tbody>
										</table>
									</div> -->
								</div>
								<div class="m-portlet__foot m-portlet__foot--fit">
									<div class="m-form__actions m-form__actions">
										<div class="row">
											<div class="col-lg-9 ml-lg-auto">
												<button type="submit" class="btn btn-brand">
													Submit
												</button>
												
											</div>
										</div>
									</div>
								</div>
							</form>
							
								</div>
						
					</div>
				</div>
			</div>
			
		<div id="m_quick_sidebar" class="m-quick-sidebar m-quick-sidebar--tabbed m-quick-sidebar--skin-light">
			<div class="m-quick-sidebar__content m--hide">
				<span id="m_quick_sidebar_close" class="m-quick-sidebar__close">
					<i class="la la-close"></i>
				</span>
				<ul id="m_quick_sidebar_tabs" class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand" role="tablist">
					<li class="nav-item m-tabs__item">
						<a class="nav-link m-tabs__link active" data-toggle="tab" href="#m_quick_sidebar_tabs_messenger" role="tab">
							Messages
						</a>
					</li>
					<li class="nav-item m-tabs__item">
						<a class="nav-link m-tabs__link" 		data-toggle="tab" href="#m_quick_sidebar_tabs_settings" role="tab">
							Settings
						</a>
					</li>
					<li class="nav-item m-tabs__item">
						<a class="nav-link m-tabs__link" data-toggle="tab" href="#m_quick_sidebar_tabs_logs" role="tab">
							Logs
						</a>
					</li>
				</ul>
				
					
									
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- end::Quick Sidebar -->		    
	    <!-- begin::Scroll Top -->
		<div class="m-scroll-top m-scroll-top--skin-top" data-toggle="m-scroll-top" data-scroll-offset="500" data-scroll-speed="300">
			<i class="la la-arrow-up"></i>
		</div>
		<!-- end::Scroll Top -->		    <!-- begin::Quick Nav -->
		<!-- begin::Quick Nav -->	
    	<!--begin::Base Scripts -->
		<script src="{% static 'defaultassets/vendors/base/vendors.bundle.js' %}" type="text/javascript"></script>
		<script src="{% static 'defaultassets/demo/default/base/scripts.bundle.js'%}" type="text/javascript"></script>
		<script src="{% static 'defaultassets/demo/default/custom/components/forms/widgets/select2.js'%}" type="text/javascript"></script>
		<!--end::Base Scripts -->
	</body>
	<!-- end::Body -->
</html>
